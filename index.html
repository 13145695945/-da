<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¤§å†’é™© ğŸ¥‚</title>
  <!-- å¼•å…¥Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- å¼•å…¥Font Awesomeå›¾æ ‡ -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- è‡ªå®šä¹‰é…ç½® -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#E84A43', // é…’çº¢è‰²ä¸»è‰²è°ƒ
            secondary: '#FFD166', // é‡‘è‰²è¾…åŠ©è‰²
            dark: '#1A1A2E', // æ·±è‰²èƒŒæ™¯
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      }
      .animate-spin-slow {
        animation: spin 3s linear infinite;
      }
      .animate-bounce-custom {
        animation: bounce 0.6s ease-in-out;
      }
      .bg-gradient-party {
        background: linear-gradient(135deg, #1A1A2E 0%, #16213E 100%);
      }
    }
  </style>
</head>
<body class="bg-gradient-party min-h-screen text-white font-sans">
  <!-- å¤´éƒ¨ - ç®€åŒ–æ ‡é¢˜ -->
  <header class="py-6 px-4 md:px-8">
    <div class="max-w-4xl mx-auto flex justify-between items-center">
      <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-secondary flex items-center">
        <i class="fa fa-random mr-3"></i>
        å¤§å†’é™©
      </h1>
      <button id="sound-toggle" class="p-2 rounded-full hover:bg-white/10 transition-colors">
        <i class="fa fa-volume-up text-xl"></i>
      </button>
    </div>
  </header>

  <!-- ä¸»å†…å®¹åŒº - ä»…ä¿ç•™å¤§å†’é™©æŒ‘æˆ˜æ ¸å¿ƒåŒºåŸŸ -->
  <main class="max-w-4xl mx-auto px-4 md:px-8 pb-20">
    <!-- æ¸¸æˆæ ¸å¿ƒåŒº -->
    <section class="bg-white/5 backdrop-blur-sm rounded-2xl p-6 md:p-8 border border-white/10 mt-8">
      <h2 class="text-xl font-semibold mb-6 flex items-center">
        <i class="fa fa-random mr-2 text-secondary"></i>
        å¤§å†’é™©æŒ‘æˆ˜
      </h2>
      
      <!-- è½¬ç›˜/æ˜¾ç¤ºåŒº -->
      <div class="relative mb-8">
        <div id="result-display" class="aspect-square max-w-md mx-auto rounded-full flex items-center justify-center border-4 border-secondary/50 bg-dark/80 overflow-hidden">
          <div id="display-content" class="text-center px-4">
            <p class="text-[clamp(1.5rem,6vw,3rem)] font-bold text-shadow text-white animate-bounce-custom">
              ç‚¹å‡»å¼€å§‹
            </p>
            <p class="text-white/70 mt-2">éšæœºæŠ½å–å¹¸è¿ç©å®¶</p>
          </div>
        </div>
        
        <!-- è£…é¥°å…ƒç´  -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 rounded-full bg-primary/20 animate-pulse"></div>
      </div>
      
      <!-- æ§åˆ¶æŒ‰é’® -->
      <div class="flex justify-center gap-4 flex-wrap">
        <button id="start-game" class="px-8 py-3 bg-primary hover:bg-primary/90 rounded-lg text-lg font-semibold transition-all transform hover:scale-105">
          <i class="fa fa-play mr-2"></i> å¼€å§‹æŠ½å¥–
        </button>
        <button id="stop-game" class="px-8 py-3 bg-white/10 hover:bg-white/20 rounded-lg text-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          <i class="fa fa-stop mr-2"></i> åœæ­¢
        </button>
      </div>
    </section>
  </main>

  <!-- éŸ³æ•ˆå’ŒåŠ¨ç”»ç›¸å…³ -->
  <audio id="spin-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-fast-small-sweep-transition-166.mp3" preload="auto"></audio>
  <audio id="win-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" preload="auto"></audio>

  <script>
    // å…¨å±€å˜é‡ - å›ºå®šç©å®¶å’Œæƒ©ç½šåˆ—è¡¨ï¼ˆéšè—ä½†é€»è¾‘ä¿ç•™ï¼‰
    let players = ['ç‹å©•', 'èƒ¥è¯‘ä¸¹', 'æ²ˆé›…æ¥ ']; // å›ºå®šç©å®¶
    let punishments = ['ç»™å°é©¬æ´—è„š', 'ç»™å°é©¬æè‚©è†€', 'ç»™å°é©¬è½¬è´¦100']; // å›ºå®šæƒ©ç½š
    let isSpinning = false;
    let spinInterval;
    let soundEnabled = true;

    // DOMå…ƒç´ 
    const startGameBtn = document.getElementById('start-game');
    const stopGameBtn = document.getElementById('stop-game');
    const resultDisplay = document.getElementById('display-content');
    const soundToggle = document.getElementById('sound-toggle');
    const spinSound = document.getElementById('spin-sound');
    const winSound = document.getElementById('win-sound');

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      bindEvents();
    });

    // ç»‘å®šäº‹ä»¶
    function bindEvents() {
      // å¼€å§‹/åœæ­¢æ¸¸æˆ
      startGameBtn.addEventListener('click', startGame);
      stopGameBtn.addEventListener('click', stopGame);

      // éŸ³æ•ˆåˆ‡æ¢
      soundToggle.addEventListener('click', toggleSound);
    }

    // å¼€å§‹æ¸¸æˆ
    function startGame() {
      if (players.length === 0) {
        alert('æš‚æ— ç©å®¶ï¼');
        return;
      }
      if (isSpinning) return;

      isSpinning = true;
      startGameBtn.disabled = true;
      stopGameBtn.disabled = false;
      
      // æ’­æ”¾æ—‹è½¬éŸ³æ•ˆ
      if (soundEnabled) {
        spinSound.loop = true;
        spinSound.play();
      }

      // éšæœºåˆ‡æ¢æ˜¾ç¤ºç©å®¶
      spinInterval = setInterval(() => {
        const randomIndex = Math.floor(Math.random() * players.length);
        resultDisplay.innerHTML = `
          <p class="text-[clamp(1.5rem,6vw,3rem)] font-bold text-shadow text-white">
            ${players[randomIndex]}
          </p>
          <p class="text-white/70 mt-2">å¹¸è¿å„¿å°±æ˜¯ä½ ï¼</p>
        `;
        
        // å¢åŠ åŠ¨ç”»æ•ˆæœ
        resultDisplay.classList.remove('animate-bounce-custom');
        setTimeout(() => {
          resultDisplay.classList.add('animate-bounce-custom');
        }, 10);
      }, 100);
    }

    // åœæ­¢æ¸¸æˆ
    function stopGame() {
      if (!isSpinning) return;

      clearInterval(spinInterval);
      isSpinning = false;
      startGameBtn.disabled = false;
      stopGameBtn.disabled = true;
      
      // åœæ­¢æ—‹è½¬éŸ³æ•ˆï¼Œæ’­æ”¾ä¸­å¥–éŸ³æ•ˆ
      spinSound.pause();
      spinSound.currentTime = 0;
      if (soundEnabled) {
        winSound.play();
      }

      // éšæœºé€‰æ‹©ç©å®¶å’Œæƒ©ç½š
      const randomPlayer = players[Math.floor(Math.random() * players.length)];
      const randomPunishment = punishments[Math.floor(Math.random() * punishments.length)];
      
      // æ˜¾ç¤ºç»“æœ
      resultDisplay.innerHTML = `
        <p class="text-[clamp(1.8rem,7vw,3.5rem)] font-bold text-shadow text-secondary animate-bounce-custom">
          ${randomPlayer}
        </p>
        <p class="text-white/90 mt-4 text-lg">å†’é™©ä»»åŠ¡ï¼š${randomPunishment}</p>
      `;
    }

    // åˆ‡æ¢éŸ³æ•ˆ
    function toggleSound() {
      soundEnabled = !soundEnabled;
      const icon = soundToggle.querySelector('i');
      if (soundEnabled) {
        icon.className = 'fa fa-volume-up text-xl';
      } else {
        icon.className = 'fa fa-volume-off text-xl';
      }
    }
  </script>
</body>
</html>
